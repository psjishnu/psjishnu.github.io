(this["webpackJsonpreact-redux-tutorial"]=this["webpackJsonpreact-redux-tutorial"]||[]).push([[0],{46:function(e,t,c){},76:function(e,t,c){"use strict";c.r(t);var r=c(0),a=c.n(r),n=c(16),s=c.n(n),i=c(4),o=c(2),d=(c(46),c(12)),l=c(5),u=c(22),j=c(15),b=c.n(j),O=c(34),h=c.n(O).a.create({baseURL:"https://fakestoreapi.com"}),p="FETCH_PRODUCTS",x="SET_PRODUCTS",m="SELECTED_PRODUCT",v=function(e){return function(t){t({type:"FOCUS",payload:e})}},g=c(1),f=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.theme})),c=t.mode,a=t.theme,n=Object(i.c)((function(e){return e.allProducts})),s=n.focus,l=n.searchText;return Object(r.useEffect)((function(){s&&(document.getElementById("search").focus(),e(v(!1)))}),[s,e]),Object(g.jsx)("div",{style:a,className:"ui fixed menu",children:Object(g.jsxs)("div",{className:"ui  container center",children:[Object(g.jsx)(d.b,{to:"/",children:Object(g.jsx)("h2",{style:a,children:"FakeShop"})}),Object(g.jsxs)("button",{style:{height:"30px",margin:"0px 8px",padding:5,backgroundColor:"yellow",border:0,borderRadius:10,boxShadow:"1px 2px #888888"},className:"ui link cards",onClick:function(){e(function(e){return function(t){t({type:"THEME",payload:e})}}("dark"===c?"light":"dark"))},children:["Switch to ","dark"===c?"LIGHT ":"DARK","Mode"]}),Object(g.jsx)("input",{onChange:function(t){return e((c=t.target.value,function(e){e({type:"SEARCH",payload:c})}));var c},placeholder:"search",id:"search",value:l,style:Object(o.a)(Object(o.a)({height:"30px",borderRadius:10},a),{},{outline:"none",padding:10})})]})})},y=function(e){var t=e.products,c=Object(i.c)((function(e){return e.allProducts})).searchText,r=new RegExp(c.toLowerCase());t=t.filter((function(e){return r.test(e.title.toLowerCase())}));var a=Object(i.c)((function(e){return e.theme.theme})),n=t.map((function(e){var t=e.id,c=e.title,r=e.image,n=e.price,s=e.category;return Object(g.jsx)("div",{style:a,className:"four wide column",children:Object(g.jsx)(d.b,{to:"/product/".concat(t),children:Object(g.jsx)("div",{className:"ui link cards",children:Object(g.jsxs)("div",{style:a,className:"card",children:[Object(g.jsx)("div",{className:"image",children:Object(g.jsx)("img",{src:r,alt:c})}),Object(g.jsxs)("div",{className:"content",children:[Object(g.jsx)("div",{style:a,className:"header",children:c}),Object(g.jsxs)("div",{style:a,className:"meta price",children:["$ ",n]}),Object(g.jsx)("div",{style:a,className:"meta",children:s})]})]})})})},t)}));return Object(g.jsx)(g.Fragment,{children:n})},N=c(18),w=c.n(N),k=function(){var e=Object(i.c)((function(e){return e.loading})),t=e.loading,c=e.error,a=Object(i.c)((function(e){return e.theme})).theme,n=Object(i.c)((function(e){return e.allProducts.products})),s=Object(i.b)();return Object(r.useEffect)((function(){s(function(){var e=Object(u.a)(b.a.mark((function e(t){var c,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"ERROR",payload:!1}),e.next=4,h.get("/products");case 4:c=e.sent,r=c.data,t({type:p,payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"ERROR",payload:!0});case 12:t({type:"LOADING",payload:!1});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[s]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsxs)("div",{className:"ui grid container",children:[c&&Object(g.jsx)("div",{style:{width:"100vw",textAlign:"center",fontSize:"35px"},children:"Error occured !!"}),0===n.length||t?Object(g.jsx)(w.a,{loading:!0,background:a.backgroundColor,loaderColor:"#3498db"}):Object(g.jsx)(y,{products:n})]})]})},E={image:"",title:"",price:"",category:"",description:""},R=function(){var e=Object(i.c)((function(e){return e.theme})).theme,t=Object(i.c)((function(e){return e.loading})).error,c=Object(l.f)().productId,a=Object(i.c)((function(e){return e.product["product_".concat(c)]})),n=a||E,s=n.image,o=n.title,d=n.price,j=n.category,O=n.description,p=Object(i.b)();return Object(r.useEffect)((function(){var e;window.scrollTo(0,0),c&&""!==c&&p((e=c,function(){var t=Object(u.a)(b.a.mark((function t(c){var r,a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:"LOADING",payload:!0}),t.prev=1,c({type:"ERROR",payload:!1}),t.next=5,h.get("/products/".concat(e));case 5:r=t.sent,a=r.data,c({type:m,payload:{data:a,id:e}}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),c({type:"ERROR",payload:!0});case 13:c({type:"LOADING",payload:!1});case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()))}),[p,c]),Object(g.jsxs)("div",{style:e,className:"ui grid container",children:[t&&Object(g.jsx)("div",{style:{width:"100vw",textAlign:"center",fontSize:"35px"},children:"Error occured !!"}),a&&0!==Object.keys(a).length?Object(g.jsx)("div",{style:e,className:"ui placeholder segment",children:Object(g.jsxs)("div",{className:"ui two column stackable center aligned grid",children:[Object(g.jsx)("div",{style:e,className:"ui vertical divider",children:"AND"}),Object(g.jsxs)("div",{style:e,className:"middle aligned row",children:[Object(g.jsx)("div",{className:"column lp",children:Object(g.jsx)("img",{className:"ui fluid image",src:s,alt:o})}),Object(g.jsxs)("div",{style:e,className:"column rp",children:[Object(g.jsx)("h1",{children:o}),Object(g.jsxs)("h2",{className:"ui teal tag label",children:["$",d]}),Object(g.jsx)("h3",{className:"ui brown block header",children:j}),Object(g.jsx)("p",{children:O}),Object(g.jsxs)("div",{className:"ui vertical animated button",tabIndex:"0",children:[Object(g.jsx)("div",{className:"hidden content",children:Object(g.jsx)("i",{className:"shop icon"})}),Object(g.jsx)("div",{className:"visible content",children:"Add to Cart"})]})]})]})]})}):Object(g.jsx)(w.a,{loading:!0,background:e.backgroundColor,loaderColor:"#3498db"})]})};var C=function(){var e=Object(i.c)((function(e){return e.theme})).theme,t=Object(i.b)();return Object(r.useEffect)((function(){window.addEventListener("keypress",(function(e){"k"===e.key.toLowerCase()&&t(v(!0))}))}),[t]),Object(g.jsx)("div",{style:Object(o.a)(Object(o.a)({},e),{},{minHeight:"100vh"}),className:"App",children:Object(g.jsxs)(d.a,{children:[Object(g.jsx)(f,{}),Object(g.jsxs)(l.c,{children:[Object(g.jsx)(l.a,{path:"/",exact:!0,component:k}),Object(g.jsx)(l.a,{path:"/product/:productId",exact:!0,component:R}),Object(g.jsxs)(l.a,{children:[Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("div",{style:{width:"100vw",textAlign:"center",fontSize:"35px",marginTop:"10vh",maxHeight:"10vh"},children:"Not found !!"})]})]})]})})},S=c(11),T=c(17),A={products:[],searchText:"",focus:!1},D={light:{color:"black",backgroundColor:"lightgray"},dark:{color:"white",backgroundColor:"black"}},L=Object(S.b)({allProducts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0,c=t.type,r=t.payload;switch(c){case x:case p:return Object(o.a)(Object(o.a)({},e),{},{products:r});case"SEARCH":return Object(o.a)(Object(o.a)({},e),{},{searchText:r});case"FOCUS":return Object(o.a)(Object(o.a)({},e),{},{focus:r});default:return e}},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,c=t.type,r=t.payload;return c===m?Object(o.a)(Object(o.a)({},e),{},Object(T.a)({},"product_".concat(String(r.id)),Object(o.a)({},r.data))):e},addSub:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{sum:0},t=arguments.length>1?arguments[1]:void 0,c=t.type,r=t.payload;switch(c){case"ADD":return Object(o.a)(Object(o.a)({},e),{},{sum:e.sum+r});case"SUB":return Object(o.a)(Object(o.a)({},e),{},{sum:e.sum-r});default:return e}},theme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{theme:D.light,mode:"light"},t=arguments.length>1?arguments[1]:void 0,c=t.type,r=t.payload;return"THEME"===c?Object(o.a)(Object(o.a)({},e),{},{theme:D[r],mode:r}):e},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,error:!1},t=arguments.length>1?arguments[1]:void 0,c=t.type,r=t.payload;switch(c){case"LOADING":return Object(o.a)(Object(o.a)({},e),{},{loading:r});case"ERROR":return Object(o.a)(Object(o.a)({},e),{},{error:r});default:return e}}}),_=L,I=c(37),H=c(24),P=c(36),U={key:"root",storage:c.n(P).a},F=Object(H.a)(U,_),G=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||S.c,M=Object(S.d)(F,G(Object(S.a)(I.a))),z=Object(H.b)(M),B=c(38);s.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(i.a,{store:M,children:Object(g.jsx)(B.a,{loading:null,persistor:z,children:Object(g.jsx)(C,{})})})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.93b16ef8.chunk.js.map